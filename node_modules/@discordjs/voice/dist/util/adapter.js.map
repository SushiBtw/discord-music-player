{"version":3,"file":"adapter.js","sourceRoot":"","sources":["../../src/util/adapter.ts"],"names":[],"mappings":"","sourcesContent":["import { GatewayVoiceServerUpdateDispatchData, GatewayVoiceStateUpdateDispatchData } from 'discord-api-types/v9';\n\n/**\n * Methods that are provided by the @discordjs/voice library to implementations of\n * Discord gateway DiscordGatewayAdapters.\n */\nexport interface DiscordGatewayAdapterLibraryMethods {\n\t/**\n\t * Call this when you receive a VOICE_SERVER_UPDATE payload that is relevant to the adapter.\n\t *\n\t * @param data - The inner data of the VOICE_SERVER_UPDATE payload\n\t */\n\tonVoiceServerUpdate(data: GatewayVoiceServerUpdateDispatchData): void;\n\t/**\n\t * Call this when you receive a VOICE_STATE_UPDATE payload that is relevant to the adapter.\n\t *\n\t * @param data - The inner data of the VOICE_STATE_UPDATE payload\n\t */\n\tonVoiceStateUpdate(data: GatewayVoiceStateUpdateDispatchData): void;\n\t/**\n\t * Call this when the adapter can no longer be used (e.g. due to a disconnect from the main gateway)\n\t */\n\tdestroy(): void;\n}\n\n/**\n * Methods that are provided by the implementer of a Discord gateway DiscordGatewayAdapter.\n */\nexport interface DiscordGatewayAdapterImplementerMethods {\n\t/**\n\t * Implement this method such that the given payload is sent to the main Discord gateway connection.\n\t *\n\t * @param payload - The payload to send to the main Discord gateway connection\n\t * @returns false if the payload definitely failed to send - in this case, the voice connection disconnects.\n\t */\n\tsendPayload(payload: any): boolean;\n\t/**\n\t * This will be called by @discordjs/voice when the adapter can safely be destroyed as it will no\n\t * longer be used.\n\t */\n\tdestroy(): void;\n}\n\n/**\n * A function used to build adapters. It accepts a methods parameter that contains functions that\n * can be called by the implementer when new data is received on its gateway connection. In return,\n * the implementer will return some methods that the library can call - e.g. to send messages on\n * the gateway, or to signal that the adapter can be removed.\n */\nexport type DiscordGatewayAdapterCreator = (\n\tmethods: DiscordGatewayAdapterLibraryMethods,\n) => DiscordGatewayAdapterImplementerMethods;\n"]}